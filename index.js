import {
  Blockfrost,
  Data,
  fromHex,
  fromLabel,
  fromText,
  Lucid,
} from "lucid-cardano";
const cbor =
  "59102e59102b010000323232323232323232323322323232332232323232323232323322323232323232323232323232323232323232323232323232323232323232323232323232323223232322323223232325335001104b13504949011156616c69646174696f6e206661696c65640032323232323232323232323232323232323232325333350121330353302a5001480014ccd4c0854008413c84ccc800540e8004cc800540dcccc0e0c0900554cd4cc0c1405120001302601513332001503f30260153303e33320015039500203d5014302a015210501330353302a500448000cc0d4cc0bd4014ccc800540f9401d40114ccd4c0854018413c84ccc800540e8004cc800540dcccc0e0ccc800540fcc0900554014c098054ccc0814024cd541654010ccc800540e4c0980554010c0a8054841404cc0d4cc0a940292000330353302f33034302050093355058503b503a3302433034302030310113355058503b503a500a5333530215009104f213332001503a001332001503733303830240153026015333020500e3355059500c333200150393026015500c302a01521050232133037330373302c00248000c8ccd5cd19b8900300105305250113303733031330263303630223033013335505a502950283303630225010335505a5029502800253335302350101051213332001503c001332001503933303a33027302601700330280173330225013335505b50023332001503b30280175002302c01721052133025501000113302333033301f50013355057503a503933033301f30300103355057503a503915335302900f2100113505a4910f4e6f206f757470757420666f756e640013332001503b3353335530251200102a50053026011235001220024800140044cc0814005400c4cc0bcc06d4004cd5414d4089408454cd4c09402c840044d41592410f4e6f206f757470757420666f756e640013302d3019302a00a33550515020501f15335301a302a009130514988854cd40044008884c155261533530220082100113505349010f4e6f206f757470757420666f756e64001330333301a3332001502e301b00a5001355002220010321355001220021533533355301c120010215001301d00821001135050491104c656e646572206e6f7420666f756e640015335301530250041304d4988854cd40044008884c1452615335301d0032100113504e49010f4e6f206f757470757420666f756e640013553353335530191200101e5001301a0052100113504d4901104c656e646572206e6f7420666f756e64002200215335301230220011304b4988854cd40044008884c13d263333573466e1cd55cea802a4000466442466002006004646464646464646464646464646666ae68cdc39aab9d500c480008cccccccccccc88888888888848cccccccccccc00403403002c02802402001c01801401000c008cd40f40f8d5d0a80619a81e81f1aba1500b33503d03f35742a014666aa082eb94100d5d0a804999aa820bae504035742a01066a07a0906ae85401cccd54104125d69aba150063232323333573466e1cd55cea801240004664424660020060046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd414dd69aba150023054357426ae8940088c98c8190cd5ce02c03203109aab9e5001137540026ae854008c8c8c8cccd5cd19b8735573aa004900011991091980080180119a829bad35742a00460a86ae84d5d1280111931903219ab9c058064062135573ca00226ea8004d5d09aba250022326320603357380a80c00bc26aae7940044dd50009aba1500533503d75c6ae854010ccd541041148004d5d0a801999aa820bae200135742a004608e6ae84d5d1280111931902e19ab9c05005c05a135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa00135742a00a606e6ae84d5d1280291931902719ab9c04204e04c3333573466e1d4019200621222200223333573466e1d401d200421222200423333573466e1d40212002232122223001005375a6ae84d55cf280511999ab9a3370ea012900010911100191931902819ab9c04405004e04d04c04b130100013333573466e1cd55cea804a400046660486eb4d5d0a8049bad35742a01066a05866aa07ceb8cd540f9d6bad357426ae8940208c98c812ccd5ce01f82582489aab9e50011375400226aae7540044dd500089aba25001135573ca00226ea8004888cd40e0cd540f000c008ccd54c04048004894cd4d4008894cd4cc05400801c40dc40e04cd40e8008004400540e40048d4004888800c8d400488880088d40048888888888880108d400488800c88cdc080100091a8009110010a44107504c415354494b0014890c506c617374696b546f6b656e00320013550372211222533500115022221350022253353300700600213502700113335530091200100700600323500122200122333573466e2400800409c0a094cd54cd4d400488d4008888888888888cccd4034940a8940a8940a88ccd54c04c48004c848cc004894cd40088400c400400940a88d4004894cd54cd4ccd5cd19b8f350022200235004220020380371333573466e1cd400888004d4010880040e00dc40dc4d40b800c540b403484d400488d40048888d402088d4008888888888888ccd54c05c4800488d400888894cd4d406088d401888c8cd40148cd401094cd4ccd5cd19b8f00200104804715003104720472335004204725335333573466e3c00800412011c5400c411c54cd400c854cd400884cd40088cd40088cd40088cd40088cc0a000800481288cd400881288cc0a0008004888128888cd401081288894cd4ccd5cd19b8700600304d04c15335333573466e1c0140081341304cc0b001000441304130411454cd40048411441144cd4114018014401541000284c98c80d0cd5ce2481024c6600034130064988854cd40044d4078008884c0292632001355033221122253350011002221330050023335530071200100500400122333573466e3c008004094090c8004d540c488448894cd40044d400c88004884ccd401488008c010008ccd54c01c4800401401000488ccd5cd19b870020010230222501625335323500122222222222200c3002001130034988854cd40044d400888004884c01d262350012200223502a49011a45786163746c79206f6e6520696e707574207265717569726564002235001223232300100632001355030223350014800088d4008894cd4ccd5cd19b8f00200902702613007001130060033200135502f223350014800088d4008894cd4ccd5cd19b8f0020070260251001130060032253350021001101c12350012223374a900019aba0375000666ae80dd400119aba0374e60420026ec40ac88848ccc00401000c008488cdc1001000891199ab9a3375e00400203203029101045553444d001489095553444d546f6b656e004820225e8c8004d54088888cc00c008004488cdc00010008919118011bac001320013550212233335573e0024a034466a03260086ae84008c00cd5d1001011119191999ab9a3370e6aae7540092000233221233001003002300c35742a004600a6ae84d5d1280111931901119ab9c016022020135573ca00226ea80048c8c8c8c8cccd5cd19b8735573aa00890001199991110919998008028020018011919191999ab9a3370e6aae7540092000233221233001003002301535742a00466a01a0286ae84d5d1280111931901399ab9c01b027025135573ca00226ea8004d5d0a802199aa8043ae500735742a0066464646666ae68cdc3a800a4008464244460040086ae84d55cf280191999ab9a3370ea0049001119091118008021bae357426aae7940108cccd5cd19b875003480008488800c8c98c80a4cd5ce00e81481381301289aab9d5001137540026ae854008cd4025d71aba135744a004464c6404666ae7005c08c0844d5d1280089aba25001135573ca00226ea80044cd54005d73ad112232230023756002640026aa03c44646666aae7c008940608cd405ccd5406cc018d55cea80118029aab9e500230043574400604026ae84004488c8c8cccd5cd19b875001480008d401cc014d5d09aab9e500323333573466e1d400920022500723263202033573802804003c03a26aae7540044dd50008909118010018891000919191999ab9a3370ea002900311909111180200298039aba135573ca00646666ae68cdc3a8012400846424444600400a60126ae84d55cf280211999ab9a3370ea006900111909111180080298039aba135573ca00a46666ae68cdc3a8022400046424444600600a6eb8d5d09aab9e500623263201e33573802403c03803603403226aae7540044dd5000919191999ab9a3370e6aae7540092000233221233001003002300535742a0046eb4d5d09aba2500223263201a33573801c03403026aae7940044dd50009191999ab9a3370e6aae75400520002375c6ae84d55cf280111931900c19ab9c00c01801613754002464646464646666ae68cdc3a800a401842444444400646666ae68cdc3a8012401442444444400846666ae68cdc3a801a40104664424444444660020120106eb8d5d0a8029bad357426ae8940148cccd5cd19b875004480188cc8848888888cc008024020dd71aba15007375c6ae84d5d1280391999ab9a3370ea00a900211991091111111980300480418061aba15009375c6ae84d5d1280491999ab9a3370ea00c900111909111111180380418069aba135573ca01646666ae68cdc3a803a400046424444444600a010601c6ae84d55cf280611931901099ab9c01502101f01e01d01c01b01a019135573aa00826aae79400c4d55cf280109aab9e5001137540024646464646666ae68cdc3a800a4004466644424466600200a0080066eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d4009200023212230020033008357426aae7940188c98c8068cd5ce00700d00c00b89aab9d5003135744a00226aae7940044dd5000919191999ab9a3370ea002900111909118008019bae357426aae79400c8cccd5cd19b875002480008c8488c00800cdd71aba135573ca008464c6402e66ae7002c05c0540504d55cea80089baa00112232323333573466e1d400520042122200123333573466e1d40092002232122230030043006357426aae7940108cccd5cd19b87500348000848880088c98c8060cd5ce00600c00b00a80a09aab9d5001137540024646666ae68cdc3a800a4004400a46666ae68cdc3a80124000400a464c6402866ae700200500480444d55ce9baa0011220021220011122232323333573466e1cd55cea80124000466aa01a600c6ae854008c014d5d09aba2500223263201333573800e02602226aae7940044dd5000a4903505431003200135500c2253350011376201844266ae80ccd54021d499aa804003803801180200088910010910911980080200191ba80011122235001223374a900019aba0300500233574060080026ec402c448848cc00400c0088d40112411e45786163746c79206f6e65207369676e61746f72792072657175697265640023500349011e45786163746c79206f6e65207369676e61746f72792072657175697265640023500249011e45786163746c79206f6e65207369676e61746f727920726571756972656400123263200333573800200693090008891918008009119801980100100081";

const lucid = await Lucid.new(
  new Blockfrost(
    "https://cardano-preprod.blockfrost.io/api/v0",
    "preprodaObP3ncIxrfcxDhiWCDVYdsV6974tS4z"
  ),
  "Preprod"
);

// console.log(lucid);

const hgeScript = {
  type: "PlutusV2",
  script: cbor,
};

// console.log(hgeScript);

// const scriptAddress = lucid.utils.validatorToAddress(hgeScript);

// console.log(`HGE Address: ${scriptAddress}`);
// // addr_test1wq2dm9mj94kgw0tt6px5u076lgnm6c8439kegmy5kvtvr3sqy8jgw;

// const seed =
//   "nest wink neither undo oven labor nature olympic file mandate glass inner cart theme initial fancy glow water mutual flame swap budget reform cute";

// const adminSeed = seed;
// lucid.selectWalletFromSeed(adminSeed);

// // console.log(wallet);

// const { paymentCredential } = lucid.utils.getAddressDetails(
//   await lucid.wallet.address()
// );
// const adminPKH = paymentCredential?.hash;

// console.log("paymentCredentials ", paymentCredential);

// console.log("adminPKH ", adminPKH);

// const amount = 100000000n;
// const tx = await lucid
//   .newTx()
//   .payToAddress(scriptAddress, { lovelace: 5000000n })
//   .payToAddress(scriptAddress, {
//     ["329d7fd2c76bd18b80f2359968b99dcb44786ad56e98e108325f8026" +
//     fromText("SOLANKII!")]: 10000n,
//   })
//   .complete();
// const signedTx = await tx.sign().complete();
// const txHash = await signedTx.submit();
// console.log(`Transaction submitted: ${txHash}`);

const datum = Data.from(cbor);

console.log(datum);
